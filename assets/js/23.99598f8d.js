(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{750:function(t,n,a){"use strict";a.r(n);var e=a(5),s=Object(e.a)({},(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("官方地址：https://kb.itextpdf.com/"),a("br"),t._v("\n准备工作："),a("br"),t._v("\n搭建springboot工程"),a("br"),t._v("\n下载中文字体包simsun.ttf，放在工程resources/fonts目录")]),t._v(" "),a("h2",{attrs:{id:"包引用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#包引用"}},[t._v("#")]),t._v(" 包引用")]),t._v(" "),a("p",[t._v("引入PDF包。")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("    <dependency>\n        <groupId>com.itextpdf</groupId>\n        <artifactId>itext7-core</artifactId>\n        <version>7.2.0</version>\n        <type>pom</type>\n    </dependency>\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("如果需要绘制图形（例如饼图、折线图），需要结合JFreeChart使用。")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("    <dependency>\n        <groupId>org.jfree</groupId>\n        <artifactId>jfreechart</artifactId>\n        <version>1.5.3</version>\n    </dependency>\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h2",{attrs:{id:"简单示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简单示例"}},[t._v("#")]),t._v(" 简单示例")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('@RestController\n@RequestMapping("/pdf")\npublic class PdfController {\n\n    @GetMapping("/test")\n    public ResponseEntity<byte[]> test() {\n        try {\n\t\t\tbyte[] pdfContent = createPdfText();\n\n\t\t\tHttpHeaders headers = new HttpHeaders();\n\t\t\theaders.setContentType(MediaType.APPLICATION_PDF);\n\t\t\theaders.setContentDispositionFormData("attachment", "sample.pdf");\n\t\t\treturn new ResponseEntity<>(pdfContent, headers, HttpStatus.OK);\n\t\t} catch (IOException e) {\n\t\t\treturn new ResponseEntity<>(HttpStatus.INTERNAL_SERVER_ERROR);\n\t\t}\n\t}\n\n\tprivate byte[] createPdfText() throws IOException {\n\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n\t\tPdfWriter writer = new PdfWriter(byteArrayOutputStream);\n\t\tPdfDocument pdf = new PdfDocument(writer);\n\t\tDocument document = new Document(pdf);\n\n\t\tString fontPath = new ClassPathResource("fonts/SimSun.ttf").getFile().getAbsolutePath();\n\t\tPdfFont font = PdfFontFactory.createFont(fontPath);\n\t\tdocument.add(new Paragraph("你好 World!").setFont(font).setFontSize(12));\n\n\t\tdocument.close();\n\t\treturn byteArrayOutputStream.toByteArray();\n\t}\n}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br")])]),a("h2",{attrs:{id:"表格示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#表格示例"}},[t._v("#")]),t._v(" 表格示例")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('\tpublic byte[] createPdfTable() throws IOException {\n\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n\t\tPdfWriter writer = new PdfWriter(byteArrayOutputStream);\n\t\tPdfDocument pdf = new PdfDocument(writer);\n\t\tDocument document = new Document(pdf);\n\n\t\tString fontPath = new ClassPathResource("fonts/SimSun.ttf").getFile().getAbsolutePath();\n\t\tPdfFont font = PdfFontFactory.createFont(fontPath);\n\n\t\tdocument.add(new Paragraph("表格示例").setFont(font).setFontSize(12));\n\t\tfloat[] columnWidths = {1, 2, 2};\n\t\tTable table = new Table(columnWidths);\n\t\ttable.addHeaderCell(new Cell().add(new Paragraph("ID").setFont(font)));\n\t\ttable.addHeaderCell(new Cell().add(new Paragraph("姓名").setFont(font)));\n\t\ttable.addHeaderCell(new Cell().add(new Paragraph("描述").setFont(font)));\n\t\tfor (int i = 1; i <= 5; i++) {\n\t\t\ttable.addCell(new Cell().add(new Paragraph(String.valueOf(i))));\n\t\t\ttable.addCell(new Cell().add(new Paragraph("Item " + i)));\n\t\t\ttable.addCell(new Cell().add(new Paragraph("Item " + i + " description.")));\n\t\t}\n\t\tdocument.add(table);\n\n\t\tdocument.close();\n\t\treturn byteArrayOutputStream.toByteArray();\n\t}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br")])]),a("h2",{attrs:{id:"饼图示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#饼图示例"}},[t._v("#")]),t._v(" 饼图示例")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('\tprivate byte[] createPdfPie() throws IOException {\n\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n\t\tPdfWriter writer = new PdfWriter(byteArrayOutputStream);\n\t\tPdfDocument pdf = new PdfDocument(writer);\n\t\tDocument document = new Document(pdf);\n\n\t\tString fontPath = new ClassPathResource("fonts/SimSun.ttf").getFile().getAbsolutePath();\n\t\tPdfFont font = PdfFontFactory.createFont(fontPath);\n\t\tdocument.add(new Paragraph("饼图示例").setFont(font).setFontSize(12));\n\t\t// 创建饼图数据集\n\t\tDefaultPieDataset dataset = new DefaultPieDataset();\n\t\tdataset.setValue("分类 A", 40);\n\t\tdataset.setValue("分类 B", 30);\n\t\tdataset.setValue("分类 C", 20);\n\t\tdataset.setValue("分类 D", 10);\n\t\t// 创建饼图\n\t\tJFreeChart pieChart = ChartFactory.createPieChart(\n\t\t\t"饼图 Test",   // 图表标题\n\t\t\tdataset,               // 数据集\n\t\t\ttrue,                  // 是否显示图例\n\t\t\ttrue,                  // 是否使用工具提示\n\t\t\tfalse                  // 是否生成URL\n\t\t);\n\t\t// 设置标题字体\n\t\tpieChart.getTitle().setFont(new Font("SimSun", Font.BOLD, 20));\n\t\t// 设置图例字体\n\t\tpieChart.getLegend().setItemFont(new Font("SimSun", Font.PLAIN, 12));\n\t\t// 设置饼图样式\n\t\tPiePlot plot = (PiePlot) pieChart.getPlot();\n\t\tplot.setSectionOutlinesVisible(false);\n\t\tplot.setLabelFont(new Font("SimSun", Font.PLAIN, 12));\n\n\t\t// 将饼图渲染为图像\n\t\tByteArrayOutputStream chartOutputStream = new ByteArrayOutputStream();\n\t\tChartUtils.writeChartAsPNG(chartOutputStream, pieChart, 500, 400);\n\t\tImageData imageData = ImageDataFactory.create(chartOutputStream.toByteArray());\n\n\t\t// 将图像添加到PDF文档中\n\t\tImage chartImage = new Image(imageData);\n\t\tdocument.add(chartImage);\n\n\t\tdocument.close();\n\t\treturn byteArrayOutputStream.toByteArray();\n\t}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br")])]),a("h2",{attrs:{id:"折线图示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#折线图示例"}},[t._v("#")]),t._v(" 折线图示例")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('\tprivate byte[] createPdfLine() throws IOException {\n\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n\t\tPdfWriter writer = new PdfWriter(byteArrayOutputStream);\n\t\tPdfDocument pdf = new PdfDocument(writer);\n\t\tDocument document = new Document(pdf);\n\n\t\tString fontPath = new ClassPathResource("fonts/SimSun.ttf").getFile().getAbsolutePath();\n\t\tPdfFont font = PdfFontFactory.createFont(fontPath);\n\t\tdocument.add(new Paragraph("折线图示例").setFont(font).setFontSize(12));\n\n\t\t// 创建数据集\n\t\tXYSeries series = new XYSeries("销量");\n\t\tseries.add(0, 200);\n\t\tseries.add(1, 300);\n\t\tseries.add(2, 400);\n\t\tseries.add(3, 500);\n\t\tseries.add(4, 600);\n\t\tXYSeriesCollection dataset = new XYSeriesCollection(series);\n\t\t// 创建折线图\n\t\tJFreeChart lineChart = ChartFactory.createXYLineChart(\n\t\t\t\t"月度销售量", // 图表标题\n\t\t\t\t"月份",       // x轴标签\n\t\t\t\t"销售额",     // y轴标签\n\t\t\t\tdataset,      // 数据集\n\t\t\t\tPlotOrientation.VERTICAL,\n\t\t\t\ttrue,         // 是否显示图例\n\t\t\t\ttrue,         // 是否使用工具提示\n\t\t\t\tfalse         // 是否生成 URL\n\t\t);\n\t\t// 设置标题字体\n\t\tlineChart.getTitle().setFont(new Font("SimSun", Font.BOLD, 20));\n\t\t// 设置图例字体\n\t\tlineChart.getLegend().setItemFont(new Font("SimSun", Font.PLAIN, 12));\n\t\t// 获取绘图区并设置字体\n\t\tXYPlot plot = lineChart.getXYPlot();\n\t\tplot.getDomainAxis().setLabelFont(new Font("SimSun", Font.PLAIN, 12)); // x轴\n\t\tplot.getRangeAxis().setLabelFont(new Font("SimSun", Font.PLAIN, 12));  // y轴\n\t\tplot.getDomainAxis().setTickLabelFont(new Font("SimSun", Font.PLAIN, 10)); // x轴刻度\n\t\tplot.getRangeAxis().setTickLabelFont(new Font("SimSun", Font.PLAIN, 10));  // y轴刻度\n\n\t\t// 设置横坐标标签\n\t\tString[] months = {"1月", "2月", "3月", "4月", "5月"};\n\t\tSymbolAxis xAxis = new SymbolAxis("月份", months);\n\t\txAxis.setTickLabelFont(new Font("SimSun", Font.PLAIN, 12)); // 设置字体\n\t\tplot.setDomainAxis(xAxis);\n\n\t\t// 将折线图渲染为图像\n\t\tByteArrayOutputStream chartOutputStream = new ByteArrayOutputStream();\n\t\tChartUtils.writeChartAsPNG(chartOutputStream, lineChart, 500, 400);\n\t\tImageData imageData = ImageDataFactory.create(chartOutputStream.toByteArray());\n\n\t\t// 将图像添加到 PDF 文档中\n\t\tImage chartImage = new Image(imageData);\n\t\tdocument.add(chartImage);\n\n\t\tdocument.close();\n\t\treturn byteArrayOutputStream.toByteArray();\n\t}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br")])]),a("h2",{attrs:{id:"综合示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#综合示例"}},[t._v("#")]),t._v(" 综合示例")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('\tprivate byte[] createPdfDemo() throws IOException {\n\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n\t\tPdfWriter writer = new PdfWriter(byteArrayOutputStream);\n\t\tPdfDocument pdf = new PdfDocument(writer);\n\t\tDocument document = new Document(pdf);\n\n\t\tString fontPath = new ClassPathResource("fonts/SimSun.ttf").getFile().getAbsolutePath();\n\t\tPdfFont font = PdfFontFactory.createFont(fontPath);\n\t\tdocument.add(new Paragraph("综合示例:").setFont(font).setFontSize(12));\n\n\t\t// 创建第一个饼图的数据集\n\t\tDefaultPieDataset dataset1 = new DefaultPieDataset();\n\t\tdataset1.setValue("在线(40)", 40);\n\t\tdataset1.setValue("离线(60)", 60);\n\n\t\t// 创建第二个饼图的数据集\n\t\tDefaultPieDataset dataset2 = new DefaultPieDataset();\n\t\tdataset2.setValue("授权正常(50)", 50);\n\t\tdataset2.setValue("部分过期(20)", 20);\n\t\tdataset2.setValue("已过期(30)", 30);\n\n\t\t// 创建饼图\n\t\tJFreeChart pieChart1 = ChartFactory.createPieChart(\n\t\t\t\t"设备状态", dataset1, true, true, false);\n\t\tJFreeChart pieChart2 = ChartFactory.createPieChart(\n\t\t\t\t"授权状态", dataset2, true, true, false);\n\n\t\t// 设置中文字体\n\t\tsetPieChartChineseFont(pieChart1);\n\t\tsetPieChartChineseFont(pieChart2);\n\n\t\t// 将饼图渲染为图像\n\t\tByteArrayOutputStream chartOutputStream1 = new ByteArrayOutputStream();\n\t\tByteArrayOutputStream chartOutputStream2 = new ByteArrayOutputStream();\n\t\tChartUtils.writeChartAsPNG(chartOutputStream1, pieChart1, 250, 250);\n\t\tChartUtils.writeChartAsPNG(chartOutputStream2, pieChart2, 250, 250);\n\t\tImageData imageData1 = ImageDataFactory.create(chartOutputStream1.toByteArray());\n\t\tImageData imageData2 = ImageDataFactory.create(chartOutputStream2.toByteArray());\n\n\t\t// 创建一个表格，将两个饼图放在同一行\n\t\tTable pieTable = new Table(2); // 两列表格\n\t\tpieTable.addCell(new Image(imageData1));\n\t\tpieTable.addCell(new Image(imageData2));\n\t\t// 将表格添加到文档中\n\t\tdocument.add(pieTable);\n\n\t\tParagraph paragraph = new Paragraph().setFont(font).setFontSize(12);\n\t\tparagraph.add("数据统计: 2024年1-6月");\n\t\tdocument.add(paragraph);\n\t\t// 创建数据集用于折线图\n\t\tXYSeries series = new XYSeries("销量");\n\t\tseries.add(0, 200);  // "1月"\n\t\tseries.add(1, 300);  // "2月"\n\t\tseries.add(2, 400);  // "3月"\n\t\tseries.add(3, 500);  // "4月"\n\t\tseries.add(4, 600);  // "5月"\n\t\tseries.add(5, 600);  // "6月"\n\t\tXYSeriesCollection dataset = new XYSeriesCollection(series);\n\n\t\t// 创建折线图\n\t\tJFreeChart lineChart = ChartFactory.createXYLineChart(\n\t\t\t\t"月度销售量", // 图表标题\n\t\t\t\t"月份",       // x轴标签\n\t\t\t\t"销售额",     // y轴标签\n\t\t\t\tdataset,      // 数据集\n\t\t\t\tPlotOrientation.VERTICAL,\n\t\t\t\ttrue,         // 是否显示图例\n\t\t\t\ttrue,         // 是否使用工具提示\n\t\t\t\tfalse         // 是否生成 URL\n\t\t);\n\n\t\t// 获取绘图区并设置字体\n\t\tXYPlot plot = lineChart.getXYPlot();\n\t\tString[] months = {"1月", "2月", "3月", "4月", "5月", "6月"};\n\t\tSymbolAxis xAxis = new SymbolAxis("月份", months);\n\t\txAxis.setTickLabelFont(new Font("SimSun", Font.PLAIN, 12)); // 设置字体\n\t\tplot.setDomainAxis(xAxis);\n\n\t\tNumberAxis yAxis = new NumberAxis("销售额");\n\t\tyAxis.setTickLabelFont(new Font("SimSun", Font.PLAIN, 12));\n\t\tplot.setRangeAxis(yAxis);\n\n\t\tlineChart.getTitle().setFont(new Font("SimSun", Font.BOLD, 20));  // 设置标题字体\n\t\tlineChart.getLegend().setItemFont(new Font("SimSun", Font.PLAIN, 12)); // 设置图例字体\n\t\t// 将折线图渲染为图像\n\t\tByteArrayOutputStream chartOutputStream = new ByteArrayOutputStream();\n\t\tChartUtils.writeChartAsPNG(chartOutputStream, lineChart, 250, 250);\n\t\tImageData chartImageData = ImageDataFactory.create(chartOutputStream.toByteArray());\n\t\tImage chartImage = new Image(chartImageData);\n\t\t// 创建表格\n\t\tfloat[] columnWidths = {1, 2, 2};\n\t\tTable tableData = new Table(columnWidths);\n\t\ttableData.setWidth(250);\n\t\ttableData.addHeaderCell(new Cell().add(new Paragraph("ID").setFont(font)));\n\t\ttableData.addHeaderCell(new Cell().add(new Paragraph("月份").setFont(font)));\n\t\ttableData.addHeaderCell(new Cell().add(new Paragraph("销售额").setFont(font)));\n\t\tfor (int i = 1; i <= 6; i++) {\n\t\t\ttableData.addCell(new Cell().add(new Paragraph(String.valueOf(i)).setFont(font)));\n\t\t\ttableData.addCell(new Cell().add(new Paragraph(i + "月").setFont(font)));\n\t\t\ttableData.addCell(new Cell().add(new Paragraph("Item " + i + " description.").setFont(font)));\n\t\t}\n\t\t// 将折线图和表格放在同一行中\n\t\tTable containerTable = new Table(2);\n\t\tcontainerTable.addCell(new Cell().add(chartImage).setBorder(null));  // 折线图放在左边\n\t\tcontainerTable.addCell(new Cell().add(tableData).setBorder(null));       // 表格放在右边\n\t\t// 将容器表格添加到文档中\n\t\tdocument.add(containerTable);\n\n\t\tdocument.close();\n\t\treturn byteArrayOutputStream.toByteArray();\n\t}\n\n\tprivate static void setPieChartChineseFont(JFreeChart chart) {\n\t\t// 获取饼图的绘图对象\n\t\tPiePlot plot = (PiePlot) chart.getPlot();\n\t\t// 设置饼图标题字体和图例字体（如需要）\n\t\tchart.getTitle().setFont(new java.awt.Font("SimSun", java.awt.Font.BOLD, 20));\n\t\tchart.getLegend().setItemFont(new java.awt.Font("SimSun", java.awt.Font.PLAIN, 10));\n\t\t// 设置标签字体\n\t\tplot.setLabelFont(new java.awt.Font("SimSun", java.awt.Font.PLAIN, 10));\n\t}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br"),a("span",{staticClass:"line-number"},[t._v("60")]),a("br"),a("span",{staticClass:"line-number"},[t._v("61")]),a("br"),a("span",{staticClass:"line-number"},[t._v("62")]),a("br"),a("span",{staticClass:"line-number"},[t._v("63")]),a("br"),a("span",{staticClass:"line-number"},[t._v("64")]),a("br"),a("span",{staticClass:"line-number"},[t._v("65")]),a("br"),a("span",{staticClass:"line-number"},[t._v("66")]),a("br"),a("span",{staticClass:"line-number"},[t._v("67")]),a("br"),a("span",{staticClass:"line-number"},[t._v("68")]),a("br"),a("span",{staticClass:"line-number"},[t._v("69")]),a("br"),a("span",{staticClass:"line-number"},[t._v("70")]),a("br"),a("span",{staticClass:"line-number"},[t._v("71")]),a("br"),a("span",{staticClass:"line-number"},[t._v("72")]),a("br"),a("span",{staticClass:"line-number"},[t._v("73")]),a("br"),a("span",{staticClass:"line-number"},[t._v("74")]),a("br"),a("span",{staticClass:"line-number"},[t._v("75")]),a("br"),a("span",{staticClass:"line-number"},[t._v("76")]),a("br"),a("span",{staticClass:"line-number"},[t._v("77")]),a("br"),a("span",{staticClass:"line-number"},[t._v("78")]),a("br"),a("span",{staticClass:"line-number"},[t._v("79")]),a("br"),a("span",{staticClass:"line-number"},[t._v("80")]),a("br"),a("span",{staticClass:"line-number"},[t._v("81")]),a("br"),a("span",{staticClass:"line-number"},[t._v("82")]),a("br"),a("span",{staticClass:"line-number"},[t._v("83")]),a("br"),a("span",{staticClass:"line-number"},[t._v("84")]),a("br"),a("span",{staticClass:"line-number"},[t._v("85")]),a("br"),a("span",{staticClass:"line-number"},[t._v("86")]),a("br"),a("span",{staticClass:"line-number"},[t._v("87")]),a("br"),a("span",{staticClass:"line-number"},[t._v("88")]),a("br"),a("span",{staticClass:"line-number"},[t._v("89")]),a("br"),a("span",{staticClass:"line-number"},[t._v("90")]),a("br"),a("span",{staticClass:"line-number"},[t._v("91")]),a("br"),a("span",{staticClass:"line-number"},[t._v("92")]),a("br"),a("span",{staticClass:"line-number"},[t._v("93")]),a("br"),a("span",{staticClass:"line-number"},[t._v("94")]),a("br"),a("span",{staticClass:"line-number"},[t._v("95")]),a("br"),a("span",{staticClass:"line-number"},[t._v("96")]),a("br"),a("span",{staticClass:"line-number"},[t._v("97")]),a("br"),a("span",{staticClass:"line-number"},[t._v("98")]),a("br"),a("span",{staticClass:"line-number"},[t._v("99")]),a("br"),a("span",{staticClass:"line-number"},[t._v("100")]),a("br"),a("span",{staticClass:"line-number"},[t._v("101")]),a("br"),a("span",{staticClass:"line-number"},[t._v("102")]),a("br"),a("span",{staticClass:"line-number"},[t._v("103")]),a("br"),a("span",{staticClass:"line-number"},[t._v("104")]),a("br"),a("span",{staticClass:"line-number"},[t._v("105")]),a("br"),a("span",{staticClass:"line-number"},[t._v("106")]),a("br"),a("span",{staticClass:"line-number"},[t._v("107")]),a("br"),a("span",{staticClass:"line-number"},[t._v("108")]),a("br"),a("span",{staticClass:"line-number"},[t._v("109")]),a("br"),a("span",{staticClass:"line-number"},[t._v("110")]),a("br"),a("span",{staticClass:"line-number"},[t._v("111")]),a("br"),a("span",{staticClass:"line-number"},[t._v("112")]),a("br"),a("span",{staticClass:"line-number"},[t._v("113")]),a("br"),a("span",{staticClass:"line-number"},[t._v("114")]),a("br"),a("span",{staticClass:"line-number"},[t._v("115")]),a("br"),a("span",{staticClass:"line-number"},[t._v("116")]),a("br"),a("span",{staticClass:"line-number"},[t._v("117")]),a("br"),a("span",{staticClass:"line-number"},[t._v("118")]),a("br"),a("span",{staticClass:"line-number"},[t._v("119")]),a("br"),a("span",{staticClass:"line-number"},[t._v("120")]),a("br"),a("span",{staticClass:"line-number"},[t._v("121")]),a("br")])])])}),[],!1,null,null,null);n.default=s.exports}}]);